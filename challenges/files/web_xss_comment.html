<!DOCTYPE html>
<html>
<head>
    <title>Comment System</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; }
        #comments { border: 1px solid #ddd; padding: 15px; margin: 15px 0; max-height: 300px; overflow-y: auto; }
        .comment { margin: 10px 0; padding: 8px; background: #f9f9f9; border-radius: 4px; }
        textarea { width: 100%; height: 80px; padding: 8px; }
    </style>
</head>
<body>
    <h2>ðŸ’¬ Public Comment System</h2>
    <p><em>Note: Admin reviews comments every 5 minutes</em></p>
    
    <form id="commentForm">
        <textarea name="comment" placeholder="Share your thoughts..." required></textarea>
        <button type="submit" style="padding: 8px 15px; background: #28a745; color: white; border: none; border-radius: 4px;">Post Comment</button>
    </form>
    
    <div id="comments">
        <div class="comment">
            <strong>Admin:</strong> Welcome to our comment system! Please be respectful in your comments.
        </div>
        <div class="comment">
            <strong>User123:</strong> Great platform! How do I report inappropriate content?
        </div>
    </div>

    <script>
        document.getElementById('commentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const comment = document.querySelector('textarea').value;
            const commentsDiv = document.getElementById('comments');
            
            // Vulnerable code - directly inserts user input without sanitization
            commentsDiv.innerHTML += `<div class="comment"><strong>User:</strong> ${comment}</div>`;
            
            document.querySelector('textarea').value = '';
            
            // Simulate admin viewing (flag would be in admin's cookie in real scenario)
            setTimeout(() => {
                if(comment.includes('<script>') || comment.includes('alert')) {
                    console.log("Admin noticed XSS attempt! Flag: sql_injection_bypass");
                }
            }, 1000);
        });
    </script>
</body>
</html>